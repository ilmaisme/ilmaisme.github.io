$("select").each((function(){var e=$(this),t=$(this).children("option:selected"),i=$(this).children("option").length;e.addClass("hidden"),e.wrap('<div class="select"></div>'),e.after('<div class="styledSelect"></div>');var s=e.next("div.styledSelect");s.text(t.text());for(var l=$("<ul />",{class:"options hidden"}).insertAfter(s),a=0;a<i;a++)$("<li />",{text:e.children("option").eq(a).text(),rel:e.children("option").eq(a).val()}).appendTo(l);var n=l.children("li");s.click((function(e){e.stopPropagation();let t=$(this).next("ul.options");$("div.styledSelect.active").each((function(){$(this).removeClass("active")})),$(this).toggleClass("active"),t.toggleClass("hidden"),t.hasClass("hidden")?$(this).removeClass("open"):$(this).addClass("open")})),n.click((function(t){t.stopPropagation(),s.text($(this).text()).removeClass("active open"),e.val($(this).attr("rel")),l.addClass("hidden")})),$(document).click((function(){s.removeClass("active open"),l.addClass("hidden")}))}));