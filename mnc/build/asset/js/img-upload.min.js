function ImgUpload(){var a="",t=[];$(".uploadInput").each((function(){$(this).on("change",(function(e){a=$(this).closest(".upload").find(".uploadImg__wrap");var l=$(this).attr("data-max_length"),n=e.target.files,o=Array.prototype.slice.call(n);o.forEach((function(e,n){if(e.type.match("image.*")){if(t.length>l)return $(".uploadWarn").html("*Upload limit max "+(parseInt(l)+1)+" items"),!1;$(".uploadWarn").html("");for(var o=0,r=0;r<t.length;r++)void 0!==t[r]&&o++;if(o>l)return!1;t.push(e);var i=new FileReader;i.onload=function(t){var l="<div class='uploadImg__box'><div style='background-image: url("+t.target.result+")' data-number='"+$(".uploadImg__close").length+"' data-file='"+e.name+"' class='uploadImg__bg'><button aria-label='remove image' class='uploadImg__close'></button></div></div>";a.append(l)},i.readAsDataURL(e)}}))}))})),$("body").on("click",".uploadImg__close",(function(a){for(var e=$(this).parent().data("file"),l=0;l<t.length;l++)if(t[l].name===e){t.splice(l,1);break}$(this).parent().parent().remove()}))}$(document).ready((function(){ImgUpload()}));