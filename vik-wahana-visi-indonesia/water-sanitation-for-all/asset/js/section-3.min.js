gsap.registerPlugin(ScrollTrigger);const images=document.querySelectorAll("img");let loadedCount=0;function checkAllLoaded(){loadedCount===images.length&&ScrollTrigger.refresh()}images.forEach((e=>{e.complete?(loadedCount++,checkAllLoaded()):e.addEventListener("load",(()=>{loadedCount++,checkAllLoaded()}))}));const boxTexts=document.querySelectorAll(".section3BoxJs"),boxImgs=document.querySelectorAll(".section3BoxImg");boxTexts.length&&boxImgs.length&&(ScrollTrigger.create({trigger:".section3BoxWrap",start:"top center",end:"bottom center",scrub:!0,onUpdate:e=>{const o=e.progress<.5?0:1;boxTexts.forEach(((e,t)=>{t!==o||e.classList.contains("active")||(boxTexts.forEach((e=>{e.classList.remove("active"),e.style.display="none"})),e.style.display="block",e.classList.add("active"),gsap.fromTo(e,{scale:.9,opacity:0},{scale:1,opacity:1,duration:.6,ease:"power2.out"}))})),boxImgs.forEach(((e,t)=>{t===o?e.classList.add("active"):e.classList.remove("active")}))}}),boxTexts.forEach(((e,o)=>{e.style.display=0===o?"block":"none",e.classList.toggle("active",0===o)})),boxImgs.forEach(((e,o)=>{e.classList.toggle("active",0===o)}))),document.querySelectorAll(".section3LetterItem img, .section3ChangeImg").forEach((e=>{gsap.fromTo(e,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 80%",end:"top 50%",scrub:!0}})})),gsap.utils.toArray(".section3QuoteTxt, .section3CoverCaption span").forEach((e=>{gsap.from(e,{x:-100,opacity:0,duration:1.2,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none reverse"}})}));