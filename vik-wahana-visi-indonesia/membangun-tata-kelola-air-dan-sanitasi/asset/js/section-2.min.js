gsap.registerPlugin(ScrollTrigger);const images=document.querySelectorAll("img");let loadedCount=0;function checkAllLoaded(){loadedCount===images.length&&ScrollTrigger.refresh()}images.forEach((e=>{e.complete?(loadedCount++,checkAllLoaded()):e.addEventListener("load",(()=>{loadedCount++,checkAllLoaded()}))}));const scrollContainer=document.querySelector(".section2Scroll");function updateHorizontalScroll(){if(!scrollContainer)return;const e=scrollContainer.scrollWidth-window.innerWidth;gsap.to(scrollContainer,{x:()=>-e,ease:"none",scrollTrigger:{trigger:".scroll-area",start:"top top",end:()=>"+="+e,scrub:!0,pin:!0,anticipatePin:1}})}function setupTextSwitch(e,t,o=.5){const r=document.querySelectorAll(t);r.length&&ScrollTrigger.create({trigger:e,start:"top center",end:"bottom center",scrub:!0,onUpdate:e=>{const t=e.progress<o?0:1;r.forEach(((e,o)=>{o!==t||e.classList.contains("active")||(r.forEach((e=>{e.classList.remove("active"),e.style.display="none"})),e.style.display="block",e.classList.add("active"),gsap.fromTo(e,{scale:.9,opacity:0},{scale:1,opacity:1,duration:.6,ease:"power2.out"}))}))}})}updateHorizontalScroll(),window.addEventListener("resize",(()=>{ScrollTrigger.refresh()})),setupTextSwitch(".section2BoxWrap",".section2BoxTxt",.5),setupTextSwitch(".section2Content2",".section2Digi",.6),document.querySelectorAll(".section2Road img, .section2Graph img, .section2ListNum").forEach((e=>{gsap.fromTo(e,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 80%",end:"top 50%",scrub:!0}})}));