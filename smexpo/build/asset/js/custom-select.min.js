$("select").each((function(){var e=$(this),t=$(this).children("option:disabled"),i=$(this).children("option:selected"),s=$(this).children("option:not([disabled])").length;e.addClass("hidden"),e.wrap('<div class="select"></div>'),t.length>0?e.after('<div class="styledSelect disable"></div>'):e.after('<div class="styledSelect"></div>');var l=e.next("div.styledSelect");l.text(i.text());var d=$("<ul />",{class:"options hidden"}).insertAfter(l);t.length>0&&$("<li />",{text:t.text(),disabled:t}).appendTo(d);for(var a=0;a<s;a++)$("<li />",{text:e.children("option:not([disabled])").eq(a).text(),rel:e.children("option:not([disabled])").eq(a).val()}).appendTo(d);var n=d.children("li");l.click((function(e){e.stopPropagation();let t=$(this).next("ul.options");$("div.styledSelect.active").each((function(){$(this).removeClass("active")})),$(this).toggleClass("active"),t.toggleClass("hidden"),t.hasClass("hidden")?$(this).removeClass("open"):$(this).addClass("open")})),n.click((function(t){t.stopPropagation(),l.text($(this).text()).removeClass("active open"),e.val($(this).attr("rel")),d.addClass("hidden"),l.removeClass("disable")})),$(document).click((function(){l.removeClass("active open"),d.addClass("hidden")}))}));