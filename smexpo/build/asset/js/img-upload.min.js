function ImgUpload(){var a="",e=[];$(".uploadInput").each((function(){$(this).on("change",(function(t){a=$(this).closest(".upload").find(".-uploadedImage");var o=$(this).attr("data-max_length"),n=$(this).attr("multiple"),l=t.target.files,i=Array.prototype.slice.call(l);i.forEach((function(t,l){t.type.match("image.*")&&(n?function(){if(e.length>o)return $(".uploadWarn").html("*Upload limit max "+(parseInt(o)+1)+" items"),!1;$(".uploadWarn").html("");for(var n=0,l=0;l<e.length;l++)void 0!==e[l]&&n++;if(n>o)return!1;e.push(t);var i=new FileReader;i.onload=function(e){var o="<div class='uploadImgBox'><div style='background-image: url("+e.target.result+")' data-number='"+$(".-removeupic").length+"' data-file='"+t.name+"' class='uploadImgBg'><button aria-label='remove image' class='uploadImgClose -removeupic'></button></div></div>";a.append(o)},i.readAsDataURL(t)}():function(){e.push(t);var o=new FileReader;o.onload=function(e){var o="<div class='uploadImgBox'><div style='background-image: url("+e.target.result+")' data-file='"+t.name+"' class='uploadImgBg'></div></div>";a.html(o)},o.readAsDataURL(t)}())}))}))})),$("body").on("click",".-removeupic",(function(a){for(var t=$(this).parent().data("file"),o=0;o<e.length;o++)if(e[o].name===t){e.splice(o,1);break}$(this).parent().parent().remove()}))}function removeDashboardPic(){$(".uploadImgBox").remove()}$(document).ready((function(){ImgUpload()}));