$("select").each((function(){var e=$(this),t=$(this).children("option").length;e.addClass("hidden"),e.wrap('<div class="select"></div>'),e.after('<div class="styledSelect"></div>');var i=e.next("div.styledSelect");i.text(e.children("option").eq(0).text());for(var s=$("<ul />",{class:"options hidden"}).insertAfter(i),l=0;l<t;l++)$("<li />",{text:e.children("option").eq(l).text(),rel:e.children("option").eq(l).val()}).appendTo(s);var a=s.children("li");i.click((function(e){e.stopPropagation();let t=$(this).next("ul.options");$("div.styledSelect.active").each((function(){$(this).removeClass("active")})),$(this).toggleClass("active"),t.toggleClass("hidden"),t.hasClass("hidden")?$(this).removeClass("open"):$(this).addClass("open")})),a.click((function(t){t.stopPropagation(),i.text($(this).text()).removeClass("active open"),e.val($(this).attr("rel")),s.addClass("hidden")})),$(document).click((function(){i.removeClass("active open"),s.addClass("hidden")}))}));