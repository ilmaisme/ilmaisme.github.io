$(".selectDrop select").each((function(){var e=$(this),t=$(this).children("option:selected"),i=$(this).children("option").length,s=$(this).children("option:disabled"),l=$(this).hasClass("required");e.addClass("hidden"),e.wrap('<div class="select"></div>'),e.after('<div class="styledSelect"></div>');var a=e.next("div.styledSelect");a.text(t.text());for(var n=$("<ul />",{class:"options hidden"}).insertAfter(a),d=0;d<i;d++)$("<li />",{text:e.children("option").eq(d).text(),rel:e.children("option").eq(d).val()}).appendTo(n);var r=n.children("li");a.click((function(t){t.stopPropagation();let i=$(this).next("ul.options");$("div.styledSelect.active").each((function(){$(this).removeClass("active")})),$(this).toggleClass("active"),i.toggleClass("hidden"),i.hasClass("hidden")?$(this).removeClass("open"):$(this).addClass("open"),l&&0==e.parent().siblings("label.required").length&&$('<label class="required">*This field is required.</label>').insertAfter($(this).parent(".select"))})),r.click((function(t){t.stopPropagation(),a.text($(this).text()).removeClass("active open"),e.val($(this).attr("rel")),n.addClass("hidden"),s&&s.removeAttr("selected"),l&&null!=e.val()&&e.parent().siblings("label.required").hide()})),$(document).click((function(){a.removeClass("active open"),n.addClass("hidden")}))}));